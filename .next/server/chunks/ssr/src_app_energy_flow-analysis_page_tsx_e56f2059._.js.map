{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///E:/pxrecycle/src/app/energy/flow-analysis/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport ReactECharts from 'echarts-for-react';\r\n\r\ninterface FlowAnalysisData {\r\n  energyType: string;\r\n  timeInterval: 'day' | 'month' | 'year';\r\n  startDate: string;\r\n  endDate: string;\r\n  spatialDimensions: Array<{\r\n    id: string;\r\n    name: string;\r\n    level: number;\r\n    parentId?: string;\r\n    selected: boolean;\r\n  }>;\r\n  balanceTable: Array<{\r\n    id: number;\r\n    level1: string;\r\n    level2: string;\r\n    balanceDiff: number;\r\n    imbalanceRate: number;\r\n  }>;\r\n  sankeyData: {\r\n    nodes: Array<{\r\n      id: string;\r\n      name: string;\r\n      value: number;\r\n      level: number;\r\n    }>;\r\n    links: Array<{\r\n      source: string;\r\n      target: string;\r\n      value: number;\r\n      type: string;\r\n    }>;\r\n  };\r\n}\r\n\r\nexport default function FlowAnalysis() {\r\n  const [data, setData] = useState<FlowAnalysisData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [energyType, setEnergyType] = useState('电');\r\n  const [timeInterval, setTimeInterval] = useState<'day' | 'month' | 'year'>('day');\r\n  const [startDate, setStartDate] = useState('2025-01-01');\r\n  const [endDate, setEndDate] = useState('2025-01-31');\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch('/api/energy/flow-analysis');\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const result = await response.json();\r\n        if (result.success) {\r\n          setData(result.data);\r\n        } else {\r\n          throw new Error(result.error || '获取数据失败');\r\n        }\r\n      } catch (err) {\r\n        console.error('获取能流分析数据失败:', err);\r\n        setError(err instanceof Error ? err.message : '未知错误');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [energyType, timeInterval, startDate, endDate]);\r\n\r\n  // 模拟数据（基于图示样式）\r\n  const mockData: FlowAnalysisData = {\r\n    energyType: '电',\r\n    timeInterval: 'day',\r\n    startDate: '2025-01-01',\r\n    endDate: '2025-01-31',\r\n    spatialDimensions: [\r\n      { id: '1', name: '欧冶链金（萍乡）再生资源有限公司', level: 1, selected: true },\r\n      { id: '1-1', name: '1号厂区', level: 2, parentId: '1', selected: true },\r\n      { id: '1-1-1', name: '机械加工生产线', level: 3, parentId: '1-1', selected: true },\r\n      { id: '1-1-1-1', name: '下料', level: 4, parentId: '1-1-1', selected: true },\r\n      { id: '1-1-1-2', name: '航车', level: 4, parentId: '1-1-1', selected: true },\r\n      { id: '1-1-1-3', name: '机械臂', level: 4, parentId: '1-1-1', selected: true },\r\n      { id: '1-1-1-4', name: '粗加工', level: 4, parentId: '1-1-1', selected: true },\r\n      { id: '1-1-1-5', name: '精加工', level: 4, parentId: '1-1-1', selected: true },\r\n      { id: '1-1-2', name: '打包机2', level: 3, parentId: '1-1', selected: true },\r\n      { id: '1-1-2-1', name: '打包机1', level: 4, parentId: '1-1-2', selected: true },\r\n      { id: '1-1-2-2', name: '总装配', level: 4, parentId: '1-1-2', selected: true },\r\n      { id: '1-1-2-3', name: '拆解抓机2', level: 4, parentId: '1-1-2', selected: true },\r\n      { id: '1-1-3', name: '磅房', level: 3, parentId: '1-1', selected: true },\r\n      { id: '1-1-3-1', name: '拆解抓机1', level: 4, parentId: '1-1-3', selected: true },\r\n      { id: '1-1-3-2', name: '氧化', level: 4, parentId: '1-1-3', selected: true },\r\n      { id: '1-1-3-3', name: '热处理', level: 4, parentId: '1-1-3', selected: true },\r\n      { id: '1-1-3-4', name: '检验', level: 4, parentId: '1-1-3', selected: true },\r\n      { id: '1-2', name: '2号厂区', level: 2, parentId: '1', selected: true },\r\n      { id: '1-3', name: '3号厂区', level: 2, parentId: '1', selected: true },\r\n      { id: '1-4', name: '4号厂区', level: 2, parentId: '1', selected: true },\r\n      { id: '1-5', name: '办公楼', level: 2, parentId: '1', selected: true },\r\n      { id: '1-5-1', name: '1层', level: 3, parentId: '1-5', selected: true },\r\n      { id: '1-5-1-1', name: '电梯', level: 4, parentId: '1-5-1', selected: true },\r\n      { id: '1-5-1-2', name: '会议室', level: 4, parentId: '1-5-1', selected: true },\r\n      { id: '1-5-1-3', name: '办公室', level: 4, parentId: '1-5-1', selected: true },\r\n      { id: '1-5-2', name: '2层', level: 3, parentId: '1-5', selected: true },\r\n      { id: '1-5-3', name: '3层', level: 3, parentId: '1-5', selected: true },\r\n      { id: '1-5-4', name: '4层', level: 3, parentId: '1-5', selected: true },\r\n      { id: '1-6', name: '食堂', level: 2, parentId: '1', selected: true },\r\n      { id: '1-7', name: '配电房', level: 2, parentId: '1', selected: true }\r\n    ],\r\n    balanceTable: [\r\n      { id: 1, level1: '一层级', level2: '二层级', balanceDiff: 200, imbalanceRate: 15 },\r\n      { id: 2, level1: '二层级', level2: '三层级', balanceDiff: 20, imbalanceRate: 2 },\r\n      { id: 3, level1: '三层级', level2: '四层级', balanceDiff: 0, imbalanceRate: 0 },\r\n      { id: 4, level1: '四层级', level2: '五层级', balanceDiff: 43, imbalanceRate: 5 },\r\n      { id: 5, level1: '五层级', level2: '末级层级', balanceDiff: 21, imbalanceRate: 3 }\r\n    ],\r\n    sankeyData: {\r\n      nodes: [\r\n        { id: 'company', name: '欧冶链金（萍乡）再生资源有限公司', value: 1000, level: 0 },\r\n        { id: 'factory1', name: '1号厂区', value: 400, level: 1 },\r\n        { id: 'factory2', name: '2号厂区', value: 200, level: 1 },\r\n        { id: 'factory3', name: '3号厂区', value: 150, level: 1 },\r\n        { id: 'factory4', name: '4号厂区', value: 100, level: 1 },\r\n        { id: 'office', name: '办公楼', value: 80, level: 1 },\r\n        { id: 'canteen', name: '食堂', value: 50, level: 1 },\r\n        { id: 'power', name: '配电房', value: 20, level: 1 },\r\n        { id: 'machining', name: '机械加工生产线', value: 200, level: 2 },\r\n        { id: 'assembly', name: '装配生产线', value: 120, level: 2 },\r\n        { id: 'surface', name: '表面处理生产线', value: 80, level: 2 },\r\n        { id: 'floor1', name: '1层', value: 40, level: 2 },\r\n        { id: 'floor2', name: '2层', value: 20, level: 2 },\r\n        { id: 'floor3', name: '3层', value: 15, level: 2 },\r\n        { id: 'floor4', name: '4层', value: 5, level: 2 },\r\n        { id: 'blanking', name: '下料', value: 50, level: 3 },\r\n        { id: 'crane', name: '起重机', value: 30, level: 3 },\r\n        { id: 'robot', name: '机械臂', value: 40, level: 3 },\r\n        { id: 'rough', name: '粗加工', value: 60, level: 3 },\r\n        { id: 'fine', name: '精加工', value: 20, level: 3 },\r\n        { id: 'component', name: '零部件装配', value: 70, level: 3 },\r\n        { id: 'final', name: '总装配', value: 30, level: 3 },\r\n        { id: 'packaging', name: '包装与标识', value: 20, level: 3 },\r\n        { id: 'painting', name: '喷漆', value: 30, level: 3 },\r\n        { id: 'oxidation', name: '氧化', value: 25, level: 3 },\r\n        { id: 'heat', name: '热处理', value: 15, level: 3 },\r\n        { id: 'inspection', name: '检验', value: 10, level: 3 },\r\n        { id: 'lab', name: '实验室', value: 15, level: 3 },\r\n        { id: 'meeting', name: '会议室', value: 10, level: 3 },\r\n        { id: 'office_room', name: '办公室', value: 15, level: 3 }\r\n      ],\r\n      links: [\r\n        { source: 'company', target: 'factory1', value: 400, type: 'main' },\r\n        { source: 'company', target: 'factory2', value: 200, type: 'main' },\r\n        { source: 'company', target: 'factory3', value: 150, type: 'main' },\r\n        { source: 'company', target: 'factory4', value: 100, type: 'main' },\r\n        { source: 'company', target: 'office', value: 80, type: 'main' },\r\n        { source: 'company', target: 'canteen', value: 50, type: 'main' },\r\n        { source: 'company', target: 'power', value: 20, type: 'main' },\r\n        { source: 'factory1', target: 'machining', value: 200, type: 'production' },\r\n        { source: 'factory1', target: 'assembly', value: 120, type: 'production' },\r\n        { source: 'factory1', target: 'surface', value: 80, type: 'production' },\r\n        { source: 'office', target: 'floor1', value: 40, type: 'floor' },\r\n        { source: 'office', target: 'floor2', value: 20, type: 'floor' },\r\n        { source: 'office', target: 'floor3', value: 15, type: 'floor' },\r\n        { source: 'office', target: 'floor4', value: 5, type: 'floor' },\r\n        { source: 'machining', target: 'blanking', value: 50, type: 'process' },\r\n        { source: 'machining', target: 'crane', value: 30, type: 'process' },\r\n        { source: 'machining', target: 'robot', value: 40, type: 'process' },\r\n        { source: 'machining', target: 'rough', value: 60, type: 'process' },\r\n        { source: 'machining', target: 'fine', value: 20, type: 'process' },\r\n        { source: 'assembly', target: 'component', value: 70, type: 'process' },\r\n        { source: 'assembly', target: 'final', value: 30, type: 'process' },\r\n        { source: 'assembly', target: 'packaging', value: 20, type: 'process' },\r\n        { source: 'surface', target: 'painting', value: 30, type: 'process' },\r\n        { source: 'surface', target: 'oxidation', value: 25, type: 'process' },\r\n        { source: 'surface', target: 'heat', value: 15, type: 'process' },\r\n        { source: 'surface', target: 'inspection', value: 10, type: 'process' },\r\n        { source: 'floor1', target: 'lab', value: 15, type: 'room' },\r\n        { source: 'floor1', target: 'meeting', value: 10, type: 'room' },\r\n        { source: 'floor1', target: 'office_room', value: 15, type: 'room' }\r\n      ]\r\n    }\r\n  };\r\n\r\n  const displayData = data || mockData;\r\n\r\n  // Sankey 图配置\r\n  const sankeyChartOption = {\r\n    title: {\r\n      text: '能流分析图',\r\n      left: 'center',\r\n      textStyle: {\r\n        color: '#374151',\r\n        fontSize: 18,\r\n        fontWeight: 'bold'\r\n      }\r\n    },\r\n    tooltip: {\r\n      trigger: 'item',\r\n      triggerOn: 'mousemove',\r\n      formatter: function(params: any) {\r\n        if (params.dataType === 'node') {\r\n          return `${params.data.name}<br/>能耗: ${params.data.value} kWh`;\r\n        } else if (params.dataType === 'edge') {\r\n          return `${params.data.source} → ${params.data.target}<br/>流量: ${params.data.value} kWh`;\r\n        }\r\n        return '';\r\n      }\r\n    },\r\n    series: [\r\n      {\r\n        type: 'sankey',\r\n        layout: 'none',\r\n        data: displayData.sankeyData.nodes,\r\n        links: displayData.sankeyData.links,\r\n        emphasis: {\r\n          focus: 'adjacency'\r\n        },\r\n        lineStyle: {\r\n          color: 'gradient',\r\n          curveness: 0.5\r\n        },\r\n        itemStyle: {\r\n          borderWidth: 1,\r\n          borderColor: '#aaa'\r\n        },\r\n        label: {\r\n          position: 'right',\r\n          fontSize: 12,\r\n          color: '#374151'\r\n        }\r\n      }\r\n    ]\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-blue-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600 dark:text-gray-300\">加载中...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-blue-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-red-500 text-xl mb-4\">❌</div>\r\n          <p className=\"text-red-600 dark:text-red-400\">加载失败: {error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-blue-50 dark:bg-gray-900 p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* 页面标题 */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 dark:text-white mb-2\">能流分析</h1>\r\n          <p className=\"text-gray-600 dark:text-gray-300\">能源流向分析与可视化</p>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n          {/* 左侧空间维度选择 */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-800 dark:text-white mb-4\">空间维度</h3>\r\n              <div className=\"space-y-2\">\r\n                {displayData.spatialDimensions.map((item) => (\r\n                  <div key={item.id} className={`flex items-center space-x-2 ${item.level > 1 ? 'ml-4' : ''}`}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={item.selected}\r\n                      className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n                    />\r\n                    <label className=\"text-sm text-gray-700 dark:text-gray-300\">\r\n                      {item.name}\r\n                    </label>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 右侧主要内容区域 */}\r\n          <div className=\"lg:col-span-3\">\r\n            {/* 控制面板 */}\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6\">\r\n              <div className=\"flex flex-wrap items-center gap-6\">\r\n                {/* 能源类型选择 */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    能源类型\r\n                  </label>\r\n                  <div className=\"flex space-x-4\">\r\n                    {['电', '水', '煤', '柴油', '汽油', '天然气', '液化石油气', '热'].map((type) => (\r\n                      <label key={type} className=\"flex items-center space-x-2\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"energyType\"\r\n                          value={type}\r\n                          checked={energyType === type}\r\n                          onChange={(e) => setEnergyType(e.target.value)}\r\n                          className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n                        />\r\n                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">{type}</span>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* 时间间隔选择 */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    时间间隔\r\n                  </label>\r\n                  <div className=\"flex space-x-2\">\r\n                    {(['day', 'month', 'year'] as const).map((interval) => (\r\n                      <button\r\n                        key={interval}\r\n                        onClick={() => setTimeInterval(interval)}\r\n                        className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\r\n                          timeInterval === interval\r\n                            ? 'bg-blue-500 text-white'\r\n                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300'\r\n                        }`}\r\n                      >\r\n                        {interval === 'day' ? '日' : interval === 'month' ? '月' : '年'}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* 时间段选择 */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    时间段\r\n                  </label>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <input\r\n                      type=\"date\"\r\n                      value={startDate}\r\n                      onChange={(e) => setStartDate(e.target.value)}\r\n                      className=\"px-3 py-2 border border-gray-300 rounded-md text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n                    />\r\n                    <span className=\"text-gray-500\">至</span>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={endDate}\r\n                      onChange={(e) => setEndDate(e.target.value)}\r\n                      className=\"px-3 py-2 border border-gray-300 rounded-md text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            {/* Sankey 图 */}\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\r\n              <ReactECharts\r\n                option={sankeyChartOption}\r\n                style={{ height: '600px', width: '100%' }}\r\n              />\r\n            </div>\r\n\r\n            {/* 层级间平衡差额表 */}\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-800 dark:text-white mb-4\">层级间平衡差额</h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        层级对比\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        层级间平衡差额 (kWh)\r\n                      </th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                        不平衡率 (%)\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                    {displayData.balanceTable.map((item) => (\r\n                      <tr key={item.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100\">\r\n                          {item.level1}与{item.level2}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100\">\r\n                          {item.balanceDiff > 0 ? item.balanceDiff : '-'}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100\">\r\n                          {item.imbalanceRate > 0 ? `${item.imbalanceRate}%` : '-'}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n            "],"names":[],"mappings":"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","debugId":null}}]
}